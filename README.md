# AutoGLM Mobile (Auto-GLM-Android)

åŸºäº Open-AutoGLM çš„ç§»åŠ¨ç«¯æ™ºèƒ½è‡ªåŠ¨åŒ–åŠ©æ‰‹ï¼Œä½¿ç”¨ Flutter + Shizuku å®ç°å®Œå…¨ç§»åŠ¨ç«¯çš„æ‰‹æœºè‡ªåŠ¨æ§åˆ¶ã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

å°† Python ç‰ˆ AutoGLM æ‰‹æœºè‡ªåŠ¨åŒ–æ¡†æ¶å®Œæ•´ç§»æ¤ä¸ºåŸç”Ÿç§»åŠ¨ç«¯åº”ç”¨ï¼š
- **ä¿æŒAIæ¥å£å…¼å®¹**ï¼šç»§ç»­ä½¿ç”¨OpenAIå…¼å®¹APIï¼Œæ— éœ€ä¿®æ”¹æ¨¡å‹æœåŠ¡ç«¯
- **æ›¿æ¢è®¾å¤‡æ§åˆ¶å±‚**ï¼šä½¿ç”¨Shizukuæ›¿ä»£ADBï¼Œå®ç°ç§»åŠ¨ç«¯åŸç”Ÿè®¾å¤‡æ§åˆ¶
- **100%å¤ç”¨ä¸šåŠ¡é€»è¾‘**ï¼šå®Œå…¨å¤åˆ»åŸæœ‰çš„Agenté€»è¾‘ã€åŠ¨ä½œå¤„ç†å’Œç³»ç»Ÿæç¤ºè¯

## ğŸ“Š åŠŸèƒ½å¤åˆ»å¯¹ç…§è¡¨

| åŸPythonæ¨¡å— | Flutterå®ç° | å¤åˆ»ç¨‹åº¦ |
|-------------|------------|---------|
| `phone_agent/agent.py` | `lib/core/phone_agent.dart` | âœ… 100% |
| `phone_agent/model/client.py` | `lib/services/model/model_client.dart` | âœ… 100% |
| `phone_agent/actions/handler.py` | `lib/services/device/action_handler.dart` | âœ… 100% |
| `phone_agent/config/prompts_zh.py` | `lib/config/prompts_zh.dart` | âœ… 100% |
| `phone_agent/config/prompts_en.py` | `lib/config/prompts_en.dart` | âœ… 100% |
| `phone_agent/config/apps.py` | `lib/config/apps.dart` | âœ… 100% |
| `phone_agent/config/i18n.py` | `lib/config/i18n.dart` | âœ… 100% |
| `main.py` (CLIå…¥å£) | `lib/main.dart` + UI Pages | âœ… é€‚é…ä¸ºç§»åŠ¨UI |
| `main.py` (check_system_requirements) | `lib/core/system_checker.dart` | âœ… 100% |
| `main.py` (check_model_api) | `lib/core/system_checker.dart` | âœ… 100% |
| `main.py` (--list-apps) | `lib/ui/screens/apps_list_page.dart` | âœ… 100% |
| `phone_agent/adb/device.py` | `lib/services/device/device_controller.dart` | âœ… Shizukuæ›¿ä»£ |
| `phone_agent/adb/screenshot.py` | AndroidåŸç”Ÿå±‚ | âœ… MediaProjectionæ›¿ä»£ |
| `phone_agent/adb/input.py` | AndroidåŸç”Ÿå±‚ | âœ… InputManageræ›¿ä»£ |
| `phone_agent/adb/connection.py` | ä¸éœ€è¦ | â– ç§»åŠ¨ç«¯æ— æ­¤éœ€æ±‚ |

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flutter UIå±‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  HomePage   â”‚ â”‚ SettingsPage â”‚ â”‚  AppsListPageâ”‚  â”‚
â”‚  â”‚  WelcomePageâ”‚ â”‚ ShizukuSetup â”‚ â”‚TaskHistoryPg â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PhoneAgent  â”‚ â”‚ ActionHandlerâ”‚ â”‚ ModelClient  â”‚  â”‚
â”‚  â”‚SystemCheckerâ”‚ â”‚ActionParser  â”‚ â”‚MessageBuilderâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    é…ç½®ä¸æ•°æ®å±‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚PromptZh/En â”‚ â”‚ AppPackages  â”‚ â”‚SettingsRepo  â”‚  â”‚
â”‚  â”‚   I18n     â”‚ â”‚ TaskInfo     â”‚ â”‚ ActionData   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              AndroidåŸç”Ÿå±‚ (Kotlin)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚MainActivity â”‚ â”‚DeviceControl â”‚ â”‚  Shizuku     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
Auto-GLM-Android/
â”œâ”€â”€ lib/                                    # Flutter Dartä»£ç 
â”‚   â”œâ”€â”€ main.dart                          # åº”ç”¨å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                            # é…ç½®æ–‡ä»¶ (7ä¸ªæ–‡ä»¶)
â”‚   â”‚   â”œâ”€â”€ app_config.dart                # åº”ç”¨å¸¸é‡é…ç½®
â”‚   â”‚   â”œâ”€â”€ apps.dart                      # 100+åº”ç”¨åŒ…åæ˜ å°„
â”‚   â”‚   â”œâ”€â”€ prompts_zh.dart                # ä¸­æ–‡ç³»ç»Ÿæç¤ºè¯ (å¤åˆ»)
â”‚   â”‚   â”œâ”€â”€ prompts_en.dart                # è‹±æ–‡ç³»ç»Ÿæç¤ºè¯ (å¤åˆ»)
â”‚   â”‚   â”œâ”€â”€ i18n.dart                      # å›½é™…åŒ–æ”¯æŒ (å¤åˆ»)
â”‚   â”‚   â”œâ”€â”€ settings_repository.dart       # è®¾ç½®æŒä¹…åŒ–
â”‚   â”‚   â””â”€â”€ config.dart                    # å¯¼å‡ºæ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                              # æ ¸å¿ƒé€»è¾‘ (4ä¸ªæ–‡ä»¶)
â”‚   â”‚   â”œâ”€â”€ phone_agent.dart               # PhoneAgentä¸»ç±» (å¤åˆ»agent.py)
â”‚   â”‚   â”œâ”€â”€ action_parser.dart             # å¥å£®çš„åŠ¨ä½œè§£æå™¨
â”‚   â”‚   â”œâ”€â”€ system_checker.dart            # ç³»ç»Ÿæ£€æŸ¥ (å¤åˆ»main.py)
â”‚   â”‚   â””â”€â”€ core.dart                      # å¯¼å‡ºæ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ data/models/                       # æ•°æ®æ¨¡å‹ (5ä¸ªæ–‡ä»¶)
â”‚   â”‚   â”œâ”€â”€ action_data.dart               # åŠ¨ä½œæ•°æ® (å«parse_action)
â”‚   â”‚   â”œâ”€â”€ model_config.dart              # æ¨¡å‹é…ç½®
â”‚   â”‚   â”œâ”€â”€ screenshot_data.dart           # æˆªå›¾æ•°æ®
â”‚   â”‚   â”œâ”€â”€ task_info.dart                 # ä»»åŠ¡å’Œæ­¥éª¤ç»“æœ
â”‚   â”‚   â””â”€â”€ models.dart                    # å¯¼å‡ºæ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                          # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ device/                        # è®¾å¤‡æ§åˆ¶ (3ä¸ªæ–‡ä»¶)
â”‚   â”‚   â”‚   â”œâ”€â”€ device_controller.dart     # è®¾å¤‡æ§åˆ¶å™¨ (æ›¿ä»£adb/)
â”‚   â”‚   â”‚   â”œâ”€â”€ action_handler.dart        # åŠ¨ä½œå¤„ç†å™¨ (å¤åˆ»handler.py)
â”‚   â”‚   â”‚   â””â”€â”€ device.dart                # å¯¼å‡ºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ model/                         # æ¨¡å‹æœåŠ¡ (2ä¸ªæ–‡ä»¶)
â”‚   â”‚   â”‚   â”œâ”€â”€ model_client.dart          # æ¨¡å‹å®¢æˆ·ç«¯ (å¤åˆ»client.py)
â”‚   â”‚   â”‚   â””â”€â”€ model.dart                 # å¯¼å‡ºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ shizuku/                       # ShizukuæœåŠ¡ (1ä¸ªæ–‡ä»¶)
â”‚   â”‚       â””â”€â”€ shizuku_service.dart       # Shizukuæ¥å£å®šä¹‰
â”‚   â”‚
â”‚   â””â”€â”€ ui/                                # UIç»„ä»¶
â”‚       â”œâ”€â”€ theme/                         # ä¸»é¢˜ (1ä¸ªæ–‡ä»¶)
â”‚       â”‚   â””â”€â”€ app_theme.dart             # ç±³è‰²ç³»ä¸»é¢˜é…ç½®
â”‚       â”œâ”€â”€ widgets/                       # é€šç”¨ç»„ä»¶ (5ä¸ªæ–‡ä»¶)
â”‚       â”‚   â”œâ”€â”€ screenshot_preview.dart    # æˆªå›¾é¢„è§ˆ
â”‚       â”‚   â”œâ”€â”€ task_input_field.dart      # ä»»åŠ¡è¾“å…¥æ¡†
â”‚       â”‚   â”œâ”€â”€ thinking_card.dart         # æ€è€ƒè¿‡ç¨‹å¡ç‰‡
â”‚       â”‚   â”œâ”€â”€ task_status_bar.dart       # ä»»åŠ¡çŠ¶æ€æ 
â”‚       â”‚   â””â”€â”€ widgets.dart               # å¯¼å‡ºæ–‡ä»¶
â”‚       â””â”€â”€ screens/                       # é¡µé¢ (7ä¸ªæ–‡ä»¶)
â”‚           â”œâ”€â”€ home_page.dart             # ä¸»é¡µé¢
â”‚           â”œâ”€â”€ settings_page.dart         # è®¾ç½®é¡µé¢
â”‚           â”œâ”€â”€ apps_list_page.dart        # åº”ç”¨åˆ—è¡¨ (å¤åˆ»--list-apps)
â”‚           â”œâ”€â”€ shizuku_setup_page.dart    # Shizukuè®¾ç½®å¼•å¯¼
â”‚           â”œâ”€â”€ task_history_page.dart     # ä»»åŠ¡å†å²
â”‚           â”œâ”€â”€ welcome_page.dart          # æ¬¢è¿å¼•å¯¼é¡µ
â”‚           â””â”€â”€ screens.dart               # å¯¼å‡ºæ–‡ä»¶
â”‚
â”œâ”€â”€ android/                               # AndroidåŸç”Ÿä»£ç 
â”‚   â””â”€â”€ app/src/main/
â”‚       â”œâ”€â”€ kotlin/.../
â”‚       â”‚   â”œâ”€â”€ MainActivity.kt            # Flutteræ¡¥æ¥
â”‚       â”‚   â””â”€â”€ DeviceController.kt        # Shizukuè®¾å¤‡æ§åˆ¶
â”‚       â””â”€â”€ AndroidManifest.xml            # æƒé™é…ç½®
â”‚
â””â”€â”€ pubspec.yaml                           # Flutterä¾èµ–é…ç½®
```

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

| ç±»åˆ« | æ•°é‡ |
|-----|------|
| Dart æ–‡ä»¶ | 28 ä¸ª |
| Kotlin æ–‡ä»¶ | 2 ä¸ª |
| æ€»ä»£ç è¡Œæ•° | ~4500 è¡Œ |
| æ”¯æŒçš„åº”ç”¨ | 100+ ä¸ª |
| æ”¯æŒçš„åŠ¨ä½œç±»å‹ | 14 ç§ |
| æ”¯æŒçš„è¯­è¨€ | 2 ç§ (ä¸­æ–‡/è‹±æ–‡) |

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

ä¸¥æ ¼éµå¾ªç”¨æˆ·è¦æ±‚çš„è§†è§‰è§„èŒƒï¼š

### è‰²å½©ä½“ç³»
- **ä¸»è‰²è°ƒ**ï¼šæ¸©æš–çš„ç±³è‰²ç³» `#F5F1E8`, `#E8DFC3`
- **å¼ºè°ƒè‰²**ï¼šæŸ”å’Œçš„æ©™è‰²ç³» `#FFA574`, `#FF8C42`
- **èƒŒæ™¯è‰²**ï¼šæµ…ç°ç™½è‰² `#FAFAFA`, `#F0F0F0`
- **æ–‡å­—è‰²**ï¼šæ·±ç°è‰² `#333333`, `#666666`
- **ç¦æ­¢ä½¿ç”¨**ï¼šè“ç´«è‰²ç³»ã€æ¸å˜è‰²ã€é«˜é¥±å’Œåº¦é¢œè‰²

### å¸ƒå±€åŸåˆ™
- å¡ç‰‡å¼å¸ƒå±€ï¼Œåœ†è§’åŠå¾„ 12-16dp
- æ“ä½œæŒ‰é’®é«˜åº¦ 48dpï¼Œæœ€å°ç‚¹å‡»åŒºåŸŸ 44dp
- æˆªå›¾é¢„è§ˆæœ€å¤§å ç”¨ 60% å±å¹•é«˜åº¦
- è¿›åº¦æŒ‡ç¤ºå™¨ä½äºå±å¹•åº•éƒ¨ 1/3 å¤„

## ğŸ”§ æ”¯æŒçš„åŠ¨ä½œç±»å‹ï¼ˆ14ç§ï¼‰

å®Œæ•´å¤åˆ»åŸé¡¹ç›®æ‰€æœ‰åŠ¨ä½œï¼š

| åŠ¨ä½œåç§° | åŠŸèƒ½æè¿° |
|---------|---------|
| `Launch` | å¯åŠ¨æŒ‡å®šåº”ç”¨ |
| `Tap` | ç‚¹å‡»æŒ‡å®šåæ ‡ |
| `Type` / `Type_Name` | è¾“å…¥æ–‡æœ¬ |
| `Swipe` | æ»‘åŠ¨æ‰‹åŠ¿ |
| `Back` | è¿”å›é”® |
| `Home` | ä¸»é¡µé”® |
| `Double Tap` | åŒå‡» |
| `Long Press` | é•¿æŒ‰ |
| `Wait` | ç­‰å¾… |
| `Take_over` | ç”¨æˆ·æ¥ç®¡ |
| `Note` | è®°å½•å†…å®¹ |
| `Call_API` | APIè°ƒç”¨ |
| `Interact` | äº¤äº’è¯·æ±‚ |
| `finish` | ç»“æŸä»»åŠ¡ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- Android 9.0+ (API 28+)
- Shizuku 13.0+
- Flutter 3.10+

### 2. å®‰è£…ä¾èµ–
```bash
cd Auto-GLM-Android
flutter pub get
```

### 3. å®‰è£…å¹¶é…ç½®Shizuku
```bash
# é€šè¿‡ADBå¯åŠ¨ShizukuæœåŠ¡
adb shell sh /storage/emulated/0/Android/data/moe.shizuku.privileged.api/start.sh
```

### 4. é…ç½®æ¨¡å‹API
åœ¨åº”ç”¨è®¾ç½®ä¸­é…ç½®ï¼š
- API URL: `http://your-server:8000/v1`
- æ¨¡å‹åç§°: `autoglm-phone-9b`

### 5. è¿è¡Œ
```bash
flutter run
```

## ğŸ“ APIå…¼å®¹æ€§

æœ¬é¡¹ç›®ä¸åŸ Python ç‰ˆ Open-AutoGLM å®Œå…¨å…¼å®¹ï¼š
- âœ… OpenAIå…¼å®¹APIæ ¼å¼
- âœ… ç›¸åŒçš„ç³»ç»Ÿæç¤ºè¯
- âœ… ç›¸åŒçš„åŠ¨ä½œæŒ‡ä»¤æ ¼å¼ (`do()`, `finish()`)
- âœ… ç›¸åŒçš„åæ ‡ç³»ç»Ÿï¼ˆ0-999ç›¸å¯¹åæ ‡ï¼‰
- âœ… ç›¸åŒçš„å“åº”è§£ææ ¼å¼ï¼ˆ`<think>...</think><answer>...</answer>`ï¼‰

## ğŸ“„ é¡µé¢è¯´æ˜

| é¡µé¢ | åŠŸèƒ½ |
|-----|------|
| **WelcomePage** | é¦–æ¬¡è¿è¡Œå¼•å¯¼é¡µ |
| **HomePage** | ä¸»ä»»åŠ¡æ‰§è¡Œç•Œé¢ |
| **SettingsPage** | æ¨¡å‹é…ç½®ã€Agenté…ç½®ã€ShizukuçŠ¶æ€ |
| **AppsListPage** | æŸ¥çœ‹100+æ”¯æŒçš„åº”ç”¨ï¼ˆåˆ†ç±»ç­›é€‰ï¼‰ |
| **TaskHistoryPage** | ä»»åŠ¡å†å²è®°å½•å’Œå¤ç”¨ |
| **ShizukuSetupPage** | Shizukuå®‰è£…å’Œé…ç½®å¼•å¯¼ |

## ğŸ“„ è®¸å¯è¯

ç»§æ‰¿åŸ Open-AutoGLM é¡¹ç›®è®¸å¯è¯ã€‚
